<?php class Controller_Notes_Moderation extends Controller_Template{	protected $user_id = null;	protected $user_group = null;	public function before()	{		$this->template = 'moderator/template';		parent::before();		$user_groups = Auth::get_groups();		if ($user_groups &&				Auth::acl()->has_access(						array('notes', array('create', 'read', 'update', 'delete')),						$user_groups[0]))		{			$user = Auth::instance()->get_user_id();            $this->user_id = $user[1];			$this->user_group = Auth::group()->get_name($user_groups[0][1]);		}		else		{			Response::redirect('/');		}	}		public function action_edit($id = null)	{		//TODO	}		//TODO archive notes?	public function action_delete($id = null)	{		if ($concepts = Model_Note::find($id))		{			$concepts->delete();						Session::set_flash('notice', 'Deleted note #' . $id);		}		else		{			Session::set_flash('error', 'Could not delete note #' . $id);		}		Response::redirect('concepts');	}	}